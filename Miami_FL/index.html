<!DOCTYPE html>
<html>

<head>
	<meta charset=utf-8 />
	<title>Miami, FL</title>
	<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.css" />
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />
	<link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lora" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Poiret+One" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

	<style>
		body {
			margin: 0;
			padding: 0;
			background: #31FCF4;
			font-family: "Noto Sans", sans-serif;
			color: #3d3d3d;
		}

		section {
			width: 80%;
			margin: 20px auto;
		}

		h1 {
			font-family: 'Roboto', sans-serif;
			letter-spacing: .04em;
		}

		h2 {
			font-family: 'Poiret One', cursive;
			letter-spacing: .04em;
		}

		p {
			font-size: 1em;
			line-height: 1.5em;
		}

		a {
			color: #005daa;
			font-weight: bold;
			text-decoration: none;
		}

		a:hover {
			text-decoration: underline;
		}

		ul {
			padding-left: 20px;
		}

		li {
			margin: 10px 0
		}


		.img-fill {
			width: 100%;
			height: auto;
			margin: 10px 0;
		}


		#map {
			width: 100%;
			height: 540px;
			margin: 10px auto;
			border: 2px solid #d3d3d3;
		}

		/* This is a comment in CSS styles */
	</style>

</head>

<body>
	<section>

		<!-- This is an HTML comment. Find the comments below and follow the instructions. -->

		<h1>Miami, FL: Keeping Our Heads Above Water</h1>

		<div id='map'></div>


		<h2>City of Miami</h2>

		<p>Known for its beautiful beaches, Art Deco architecture, and Latin influences, Miami is a popular vacation destination for people from around the world. Bordered by the Atlantic Ocean on the east and The Everglades to the west, the City
			continuously searches for ways to hold back water and prevent flooding. Miami is the financial and cultural center of South Florida and embraces a diverse, multi-cultural population.</p>

		<!-- This gist is a map of Florida's state polygon -->
		<script src="https://gist.github.com/lbrianshelton/c890893728bf8db08ed2d39f063d3848.js"></script>

		<ul>
			<!-- Change the following contacts to your personal brand, whatever you want it to be! -->
			<li>See my projects on GitHub:
				<a href="https://github.com/lbrianshelton">Brian Shelton</a>
			</li>
			<li>Follow me on twitter:
				<a href="https://twitter.com/lbrianshelton">@lbrianshelton</a>
			</li>
		</ul>
	</section>

	<script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
	<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet-src.js"></script>
	<script>
		// map options
		var options = {
			center: [25.884307, -80.210117], // lat/lon values
			zoom: 11
		}

		// create a Leaflet map in our division container with id of 'map'
		var map = L.map('map', options);

		// request some basemap tiles and add to the map
		var tiles = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
			attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
			subdomains: 'abcd',
			maxZoom: 19
		}).addTo(map);

		// write a custom message for the Leaflet tooltip
		var message = 'Sunshine and Beaches';

		// add a marker to the center of the map and open the tooltip
		L.marker(map.getCenter())
			.bindTooltip(message)
			.addTo(map)
			.openTooltip();

		// ************************************************** //
		// Add markers and popups to Hometown Map //

		// STORING DATA AS VARIABLES IN ARRAYS

		// variables referencing data values
		// declares variables for point 1 popup
		/*
		var city1Name = "Miami Beach",
			city1Coords = [25.781844, -80.131335],
			city1Pop = 92307,
			city1Capital = false,
			city1State = "Florida";
		*/

		// declares variables for city 2 popup
		/*var city2Name = "Aventura",
			city2Coords = [25.964444, -80.135833],
			city2Pop = 38202,
			city2Capital = false,
			city2State = "Florida";
		*/

		// declares variables for city 3 popup
		/*var city3Name = "Hialeah",
			city3Coords = [25.860556, -80.293889],
			city3Pop = 239673,
			city3Capital = false,
			city3State = "Florida";
		*/

		// arrays of data
		/*
		var cities = [city1Name, city2Name, city3Name],
			coords = [city1Coords, city2Coords, city3Coords],
			populations = [city1Pop, city2Pop, city3Pop],
			capitals = [city1Capital, city2Capital, city3Capital],
			states = [city1State, city2State, city3State];
		*/

		// declare locations array
		var nameLocation = ["Miami Beach", "Aventura", "Hialeah"]

		// declare population array
		var cityPopulation = [92307, 38202, 239673]

		// declare coordinates array
		var coordinateLocation = [
			[25.781844, -80.131335],
			[25.964444, -80.135833],
			[25.860556, -80.293889]
		]

		/* Lab 05 Challenge */
		// Build JS object to contain arrays
		var myLocations = [{
				name: "Miami Beach",
				properties: {
					population: 92307,
					coordinates: [25.781844, -80.131335],
					type: "Type 1",
					details: "Beaches, art deco architecture, and nightlife.",
					img: '<img src = "https://www.visitflorida.com/content/dam/visitflorida/en-us/images/articles/2011/march/1300805920_miami_cocktail-hour-at-cafe-sambal_sm.jpg.270.180.rendition" alt = "Miami Beach, Wikipedia" class = "img-fill" >'
				}
			},
			{
				name: "Aventura",
				properties: {
					population: 38202,
					coordinates: [25.964444, -80.135833],
					type: "Type 2",
					details: "Shopping, golf resorts, and boating.",
					img: '<img src = "https://www.visitflorida.com/content/dam/visitflorida/en-us/images/articles/2011/march/1300805920_miami_cocktail-hour-at-cafe-sambal_sm.jpg.270.180.rendition" alt = "Miami Beach, Wikipedia" class = "img-fill" >'
				}
			},
			{
				name: "Hialeah",
				properties: {
					population: 239673,
					coordinates: [25.860556, -80.293889],
					type: "Type 3",
					details: "Cuban culture, latin cuisine, and Cafe Cubano.",
					img: '<img src = "https://www.visitflorida.com/content/dam/visitflorida/en-us/images/articles/2011/march/1300805920_miami_cocktail-hour-at-cafe-sambal_sm.jpg.270.180.rendition" alt = "Miami Beach, Wikipedia" class = "img-fill" >'
				}
			}
		];

		const typeIconURL = ["svgs/svgs_01/beach-15.svg", "svgs/svgs_02/home-15.svg", "svgs/svgs_04/town-hall-15.svg"];


		/* Lab 04 Challenge */
		// Group locations into categories for symbology
		/*			const typeLocation = ["Type 1", "Type 2", "Type 3"];

				// URL for custom icon svg
				

				// Iterate through array using indexes to access values
				for (let i = 0; i < nameLocation.length; i++) {

					// Build the location popup
					let locationPopup = `<h2>${nameLocation[i]}</h2> ${detailsLocation[i]}`;

					// Build Leaflet icon by calling a function to determine type of location
					let iconLocation = createIcon(typeLocation[i]); // Function call

					L.marker(coordinatesLocation[i], {
							icon: iconLocation // Insert returned function value
						})
						.addTo(map)
						.bindPopup(locationPopup);
				};

				


		//-- Code from Lab 03 --
		//	***
		//  ***Correct code for adding an image to a popup***
		//  ***
		// for loop that creates popups -- runs through the nameLocation, cityPopulation, and coordinateLocation arrays. Pulls together the coordinates and information to display in popup marker.
		/*	for (var i = 0; i < nameLocation.length; i++) {
			var nameCity = nameLocation[i];
			var cityCoordinate = coordinateLocation[i];
			var cityPops = cityPopulation[i];
			var locationPopup = "<b>" + nameCity + "</b><br>" +
				"<b>population</b>: " + cityPops + "</b><br>" +
				'<img src = "https://media-cdn.tripadvisor.com/media/photo-s/0c/da/2a/ea/photo2jpg.jpg" alt = "Miami Beach, Wikipedia" class = "img-fill" >';
			L.marker(coordinateLocation[i]).addTo(map)
				.bindPopup(locationPopup);
		}
*/

		//-- Lab 05 -- for loop that runs through myLocations object//
		for (var i in myLocations) {
			console.log(createIcon(myLocations[i].properties.type))
			var locationPopup =
				"<h3>" +
				myLocations[i].name +
				"</h3>" +
				"<b>population</b>: " +
				myLocations[i].properties.population +
				"<br>" +
				myLocations[i].properties.details +
				"<br>" +
				myLocations[i].properties.img
				

			L.marker(myLocations[i].properties.coordinates)
				.addTo(map)
				.bindPopup(locationPopup);
		}


		// Function to determine type of location and return appropriate Leaflet icon object

		function createIcon(typeOfLocation) {
					let iconURL = "", // declare the iconURL
						iconSize = 30; // create default size

					if (typeOfLocation == "Type 1") {
						iconURL = typeIconURL[0];
					} else if (typeOfLocation == "Type 2") {
						iconURL = typeIconURL[1];
						iconSize = 40;
					} else {
						iconURL = typeIconURL[2];
					}

					// Create a Leaflet icon object
					let result = L.icon({
						iconUrl: iconURL,
						iconSize: iconSize,
						popupAnchor: [0, -15] // Center of your icon is [0,0]
					});

					// Function returns a properly formatted Leaf icon object to place on your map
					return result;

				};



		//-- Code from Lab 02 --
		// ADDING FIRST MARKER TO MAP

		// creating a string of the Popup content
		// call on array values using the appropriate index value for each MARKER
		// nothing appears in map box when <img> is added to the popup string
		/*				var city1Popup = "<b>" + cities[0] + "</b>" +
							"<br><b>population</b>: " + populations[0]; // + <img src="https://en.wikipedia.org/wiki/File:Flag_of_Florida.svg" alt="Florida sate flag" class="img-fill">;//

						// if city is a capital city
						if (capitals[0] == true) {
							// concatenate a string to the existing string value
							city1Popup += "<br>Capital of " + states[0];
						}

						// create the Leaflet marker using the coordinates
						L.marker(coords[0])
							.addTo(map) // add it to the map
							.bindPopup(city1Popup); // bind the Popup

						// ADDING SECOND MARKER TO MAP

						// creating a string of the Popup content
						var city2Popup = "<b>" + cities[1] + "</b>" +
							"<br><b>population</b>: " + populations[1];

						// if city is a capital city
						if (capitals[1] == true) {
							// concatenate a string to the existing string value
							city2Popup += "<br>Capital of " + states[1];
						}

						// create the Leaflet marker using the coordinates
						L.marker(coords[1])
							.addTo(map) // add it to the map
							.bindPopup(city2Popup); // bind the Popup

						// ADDING Third MARKER TO MAP

						// creating a string of the Popup content
						var city3Popup = "<b>" + cities[2] + "</b>" +
							"<br><b>population</b>: " + populations[2];

						// if city is a capital city
						if (capitals[2] == true) {
							// concatenate a string to the existing string value
							city1Popup += "<br>Capital of " + states[2];
						}

						// create the Leaflet marker using the coordinates
						L.marker(coords[2])
							.addTo(map) // add it to the map
							.bindPopup(city3Popup); // bind the Popup
		*/
	</script>

</body>

</html>
